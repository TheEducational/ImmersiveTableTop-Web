const right_frame_video = document.getElementById('right-frame-video-source')
const shuffledVideoPlaylist = shuffle(videos); // Shuffle the playlist
var currentVideoTrackIndex = 0;

function defaultVideo() {
    right_frame_video.src = default_video
}

// Function to shuffle an array (Fisher-Yates Shuffle)
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// Function to play the next video
function playNextVideo() {
    if (currentVideoTrackIndex < shuffledVideoPlaylist.length) {
        // Update video source
        right_frame_video.src = shuffledVideoPlaylist[currentVideoTrackIndex];
        console.log("Now Playing Video:", shuffledVideoPlaylist[currentVideoTrackIndex]);

        // Load and play the new video
        right_frame_video.load();
        right_frame_video.play();

        currentVideoTrackIndex++;
    } else {
        // Reset and shuffle again if all tracks have been played
        currentVideoTrackIndex = 0;
        shuffledVideoPlaylist = shuffle(playlist);
        playNextVideo();
    }
}

// Add an event listener to play the next video when the current video ends
right_frame_video.addEventListener('ended', playNextVideo);

// Start playing the first track
playNextVideo();
